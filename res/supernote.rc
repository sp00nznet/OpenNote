#include <windows.h>
#include <commctrl.h>
#include "resource.h"

// Application icon
IDI_SUPERNOTE ICON "icon.ico"

// Version info
VS_VERSION_INFO VERSIONINFO
FILEVERSION     1,0,0,0
PRODUCTVERSION  1,0,0,0
FILEFLAGSMASK   VS_FFI_FILEFLAGSMASK
FILEFLAGS       0
FILEOS          VOS_NT_WINDOWS32
FILETYPE        VFT_APP
FILESUBTYPE     VFT2_UNKNOWN
BEGIN
    BLOCK "StringFileInfo"
    BEGIN
        BLOCK "040904B0"
        BEGIN
            VALUE "CompanyName",      "OpenNote"
            VALUE "FileDescription",  "OpenNote - Tabbed Notepad with SQLite"
            VALUE "FileVersion",      "1.0.0.0"
            VALUE "InternalName",     "OpenNote"
            VALUE "LegalCopyright",   "Copyright (C) 2026"
            VALUE "OriginalFilename", "OpenNote.exe"
            VALUE "ProductName",      "OpenNote"
            VALUE "ProductVersion",   "1.0.0.0"
        END
    END
    BLOCK "VarFileInfo"
    BEGIN
        VALUE "Translation", 0x409, 1200
    END
END

// Accelerator table
IDA_ACCEL ACCELERATORS
BEGIN
    "N",        IDM_FILE_NEW,           VIRTKEY, CONTROL
    "O",        IDM_FILE_OPEN,          VIRTKEY, CONTROL
    "S",        IDM_FILE_SAVE,          VIRTKEY, CONTROL
    "S",        IDM_FILE_SAVEAS,        VIRTKEY, CONTROL, SHIFT
    "W",        IDM_FILE_CLOSE_TAB,     VIRTKEY, CONTROL
    "P",        IDM_FILE_PRINT,         VIRTKEY, CONTROL

    "Z",        IDM_EDIT_UNDO,          VIRTKEY, CONTROL
    "Y",        IDM_EDIT_REDO,          VIRTKEY, CONTROL
    "X",        IDM_EDIT_CUT,           VIRTKEY, CONTROL
    "C",        IDM_EDIT_COPY,          VIRTKEY, CONTROL
    "V",        IDM_EDIT_PASTE,         VIRTKEY, CONTROL
    VK_DELETE,  IDM_EDIT_DELETE,        VIRTKEY
    "F",        IDM_EDIT_FIND,          VIRTKEY, CONTROL
    VK_F3,      IDM_EDIT_FIND_NEXT,     VIRTKEY
    VK_F3,      IDM_EDIT_FIND_PREV,     VIRTKEY, SHIFT
    "H",        IDM_EDIT_REPLACE,       VIRTKEY, CONTROL
    "G",        IDM_EDIT_GOTO,          VIRTKEY, CONTROL
    "A",        IDM_EDIT_SELECT_ALL,    VIRTKEY, CONTROL
    VK_F5,      IDM_EDIT_TIME_DATE,     VIRTKEY

    VK_OEM_PLUS,    IDM_VIEW_ZOOM_IN,   VIRTKEY, CONTROL
    VK_OEM_MINUS,   IDM_VIEW_ZOOM_OUT,  VIRTKEY, CONTROL
    "0",            IDM_VIEW_ZOOM_RESET, VIRTKEY, CONTROL
END

// Go To Line dialog
IDD_GOTO DIALOGEX 0, 0, 200, 70
STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Go To Line"
FONT 8, "MS Shell Dlg"
BEGIN
    LTEXT           "&Line number:", IDC_STATIC, 10, 15, 50, 10
    EDITTEXT        IDC_GOTO_LINE, 65, 12, 125, 14, ES_AUTOHSCROLL | ES_NUMBER
    DEFPUSHBUTTON   "Go To", IDOK, 85, 45, 50, 14
    PUSHBUTTON      "Cancel", IDCANCEL, 140, 45, 50, 14
END

// About dialog
IDD_ABOUT DIALOGEX 0, 0, 220, 100
STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "About OpenNote"
FONT 8, "MS Shell Dlg"
BEGIN
    LTEXT           "OpenNote", IDC_STATIC, 60, 15, 100, 12
    LTEXT           "Version 1.0.0", IDC_STATIC, 60, 30, 100, 10
    LTEXT           "A tabbed text editor with SQLite note storage", IDC_STATIC, 60, 45, 150, 10
    LTEXT           "Copyright (C) 2026", IDC_STATIC, 60, 60, 100, 10
    DEFPUSHBUTTON   "OK", IDOK, 85, 78, 50, 14
END

// Notes Browser dialog
IDD_NOTES_BROWSER DIALOGEX 0, 0, 350, 250
STYLE DS_SETFONT | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU | WS_THICKFRAME
CAPTION "Notes Browser"
FONT 8, "MS Shell Dlg"
BEGIN
    LTEXT           "&Search:", IDC_STATIC, 10, 12, 30, 10
    EDITTEXT        IDC_NOTES_SEARCH, 45, 10, 200, 14, ES_AUTOHSCROLL
    PUSHBUTTON      "Sync", IDC_NOTES_SYNC, 255, 10, 40, 14
    CONTROL         "", IDC_NOTES_LIST, WC_LISTVIEW, LVS_REPORT | LVS_SHOWSELALWAYS | WS_BORDER | WS_TABSTOP, 10, 30, 330, 180
    PUSHBUTTON      "&New Note", IDC_NOTES_NEW, 10, 220, 55, 14
    PUSHBUTTON      "&Rename", IDC_NOTES_RENAME, 70, 220, 50, 14
    PUSHBUTTON      "&Delete", IDC_NOTES_DELETE, 125, 220, 50, 14
    DEFPUSHBUTTON   "&Open", IDOK, 230, 220, 50, 14
    PUSHBUTTON      "&Close", IDCANCEL, 285, 220, 50, 14
END

// Defaults settings dialog
IDD_DEFAULTS DIALOGEX 0, 0, 250, 170
STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Default Settings"
FONT 8, "MS Shell Dlg"
BEGIN
    LTEXT           "&Font Size:", IDC_STATIC, 15, 20, 40, 10
    COMBOBOX        IDC_DEFAULTS_FONTSIZE, 70, 18, 100, 120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
    LTEXT           "&Theme:", IDC_STATIC, 15, 42, 40, 10
    COMBOBOX        IDC_DEFAULTS_THEME, 70, 40, 100, 120, CBS_DROPDOWNLIST | WS_VSCROLL | WS_TABSTOP
    AUTOCHECKBOX    "&Minimize to system tray", IDC_DEFAULTS_TRAY, 15, 62, 120, 10
    AUTOCHECKBOX    "&Auto-save session on exit", IDC_DEFAULTS_AUTOSAVE, 15, 77, 120, 10
    PUSHBUTTON      "Restore Previous Session", IDC_DEFAULTS_RESTORE, 15, 95, 105, 14
    GROUPBOX        "Cloud Sync", IDC_STATIC, 15, 115, 220, 30
    PUSHBUTTON      "Sync Accounts...", IDC_DEFAULTS_SYNC_ACCOUNTS, 25, 127, 80, 14
    DEFPUSHBUTTON   "OK", IDOK, 140, 150, 50, 14
    PUSHBUTTON      "Cancel", IDCANCEL, 195, 150, 50, 14
END

// Find in All Tabs dialog
IDD_FIND_IN_TABS DIALOGEX 0, 0, 320, 200
STYLE DS_SETFONT | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU | WS_THICKFRAME
CAPTION "Find in Tabs"
FONT 8, "MS Shell Dlg"
BEGIN
    LTEXT           "Fi&nd what:", IDC_STATIC, 10, 12, 45, 10
    EDITTEXT        IDC_FIND_IN_TABS_TEXT, 60, 10, 180, 14, ES_AUTOHSCROLL
    AUTOCHECKBOX    "Match &case", IDC_MATCH_CASE, 10, 32, 60, 10
    AUTOCHECKBOX    "&Whole word", IDC_WHOLE_WORD, 80, 32, 60, 10
    LTEXT           "Search in:", IDC_STATIC, 10, 52, 40, 10
    CONTROL         "", IDC_TABS_LIST, WC_LISTVIEW, LVS_REPORT | LVS_SHOWSELALWAYS | WS_BORDER | WS_TABSTOP, 10, 64, 230, 100
    PUSHBUTTON      "Select &All", IDC_SELECT_ALL_TABS, 250, 64, 60, 14
    DEFPUSHBUTTON   "&Find All", IDC_FIND_ALL_TABS, 250, 84, 60, 14
    PUSHBUTTON      "Close", IDCANCEL, 250, 170, 60, 14
END

// Replace in All Tabs dialog
IDD_REPLACE_IN_TABS DIALOGEX 0, 0, 320, 220
STYLE DS_SETFONT | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU | WS_THICKFRAME
CAPTION "Replace in Tabs"
FONT 8, "MS Shell Dlg"
BEGIN
    LTEXT           "Fi&nd what:", IDC_STATIC, 10, 12, 45, 10
    EDITTEXT        IDC_FIND_IN_TABS_TEXT, 60, 10, 180, 14, ES_AUTOHSCROLL
    LTEXT           "Rep&lace with:", IDC_STATIC, 10, 32, 48, 10
    EDITTEXT        IDC_REPLACE_IN_TABS_TEXT, 60, 30, 180, 14, ES_AUTOHSCROLL
    AUTOCHECKBOX    "Match &case", IDC_MATCH_CASE, 10, 52, 60, 10
    AUTOCHECKBOX    "&Whole word", IDC_WHOLE_WORD, 80, 52, 60, 10
    LTEXT           "Replace in:", IDC_STATIC, 10, 72, 45, 10
    CONTROL         "", IDC_TABS_LIST, WC_LISTVIEW, LVS_REPORT | LVS_SHOWSELALWAYS | WS_BORDER | WS_TABSTOP, 10, 84, 230, 100
    PUSHBUTTON      "Select &All", IDC_SELECT_ALL_TABS, 250, 84, 60, 14
    DEFPUSHBUTTON   "Replace &All", IDC_REPLACE_ALL_TABS, 250, 104, 60, 14
    PUSHBUTTON      "Close", IDCANCEL, 250, 190, 60, 14
END

// Generic Input Box dialog (accepts any text, not just numbers)
IDD_INPUTBOX DIALOGEX 0, 0, 250, 70
STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Input"
FONT 8, "MS Shell Dlg"
BEGIN
    LTEXT           "", IDC_INPUTBOX_PROMPT, 10, 15, 230, 10
    EDITTEXT        IDC_INPUTBOX_TEXT, 10, 28, 230, 14, ES_AUTOHSCROLL
    DEFPUSHBUTTON   "OK", IDOK, 135, 50, 50, 14
    PUSHBUTTON      "Cancel", IDCANCEL, 190, 50, 50, 14
END

// Sync Accounts dialog
IDD_SYNC_ACCOUNTS DIALOGEX 0, 0, 220, 130
STYLE DS_SETFONT | DS_MODALFRAME | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Cloud Sync Accounts"
FONT 8, "MS Shell Dlg"
BEGIN
    LTEXT           "Connect a cloud account to sync your notes:", IDC_STATIC, 15, 15, 190, 10
    PUSHBUTTON      "Sign in with GitHub", IDC_SYNC_GITHUB, 15, 35, 190, 20
    PUSHBUTTON      "Sign in with Google Drive", IDC_SYNC_GOOGLE, 15, 60, 190, 20
    LTEXT           "", IDC_SYNC_STATUS, 15, 88, 190, 10
    PUSHBUTTON      "Sign Out", IDC_SYNC_SIGNOUT, 15, 105, 60, 14, WS_DISABLED
    PUSHBUTTON      "Close", IDCANCEL, 155, 105, 50, 14
END

// Print Preview dialog
IDD_PRINT_PREVIEW DIALOGEX 0, 0, 450, 400
STYLE DS_SETFONT | DS_FIXEDSYS | WS_POPUP | WS_CAPTION | WS_SYSMENU | WS_THICKFRAME | WS_MAXIMIZEBOX
CAPTION "Print Preview"
FONT 8, "MS Shell Dlg"
BEGIN
    PUSHBUTTON      "< Prev", IDC_PREVIEW_PREV, 10, 10, 50, 14
    LTEXT           "Page 1 of 1", IDC_PREVIEW_PAGENUM, 70, 13, 80, 10
    PUSHBUTTON      "Next >", IDC_PREVIEW_NEXT, 160, 10, 50, 14
    DEFPUSHBUTTON   "&Print", IDC_PREVIEW_PRINT, 330, 10, 50, 14
    PUSHBUTTON      "Close", IDCANCEL, 390, 10, 50, 14
    CONTROL         "", IDC_PREVIEW_CANVAS, "Static", SS_NOTIFY | SS_OWNERDRAW, 10, 30, 430, 360
END
